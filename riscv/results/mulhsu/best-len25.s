# build 0x0000FFFF mask
lui x20, 16
addi x20, x20, -1
and x4, x2, x20
srli x5, x2, 16
and x6, x3, x20
srli x7, x3, 16
mul x8, x4, x6
mul x9, x4, x7
mul x10, x5, x6
mul x11, x5, x7
and x12, x9, x20
and x13, x10, x20
srli x14, x8, 16
add x15, x12, x13
add x15, x15, x14
srli x16, x15, 16
srli x17, x9, 16
srli x18, x10, 16
add x1, x11, x17
add x1, x1, x18
add x1, x1, x16
srai x19, x2, 31
and x19, x19, x3
sub x1, x1, x19